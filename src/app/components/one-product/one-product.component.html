

<div class="product-card position-relative h-100 d-flex flex-column bg-white rounded-4 overflow-hidden shadow-sm hover-shadow-lg transition-all">


  <div class="product-img position-relative overflow-hidden">
    <a class="d-block text-center p-3" routerLink="/products/{{oneProductData.id}}">
      <img src="{{ oneProductData.image }}" alt="Product image" 
           class="img-fluid object-fit-cover" 
           style="width: 100%; height: 280px; mix-blend-mode: multiply;" />
    </a>

  
    <div class="product-actions position-absolute start-0 end-0 bottom-0 d-flex justify-content-center bg-white bg-opacity-95 py-2 translate-y-100 transition-all">
      <button class="btn btn-dark btn-icon mx-1 px-3 py-2 rounded-3" 
              (click)="addToCart(oneProductData)"
              aria-label="Add to cart">
        <i class="fas fa-cart-plus fs-5"></i>
      </button>
      <button class="btn btn-dark btn-icon mx-1 px-3 py-2 rounded-3" 
              (click)="addToWishlist()"
              aria-label="Add to wishlist">
        <i class="fas fa-heart fs-5" ></i>
      </button>
    </div>
  </div>

 
  <div class="position-absolute top-0 end-0 mt-2 me-2">
    <span class="badge bg-danger bg-opacity-90 text-white fs-7 fw-medium px-2 py-1 rounded-1">
      {{ (1 - (oneProductData.price / (oneProductData.price * 1.2))) | percent }} OFF
    </span>
  </div>

 
  <div class="card-body text-center pt-0 pb-3 px-3 flex-grow-1 d-flex flex-column">

    
    <a class="h5 text-decoration-none text-dark fw-semibold mb-2 mt-2 line-clamp-2" 
       routerLink="/products/{{oneProductData.id}}">
      {{ oneProductData.title }}
    </a>

    <div class="product-rating mb-3 d-flex justify-content-center align-items-center">
      <div class="d-flex align-items-center bg-light rounded-pill px-3 py-1">
        @for (star of getStars(oneProductData.rating?.rate); track $index) {
            @if (star === 'full') {
          <i class="fas fa-star text-warning small"></i>
          } @else if (star === 'half') {
          <i class="fas fa-star-half-alt text-warning small"></i>
          } @else {
          <i class="far fa-star text-warning small"></i>
          }
      }
        
        <small class="text-muted ms-2 fs-7">{{oneProductData.rating?.count}}</small>
      </div>
    </div>

   
    <div class="mt-auto">
      <div class="d-flex align-items-center justify-content-center gap-2">
        <h4 class="text-primary mb-0 fw-bold">{{ oneProductData.price | currency: 'USD' }}</h4>
        <h5 class="text-muted mb-0"><del>{{ (oneProductData.price * 1.2) | currency: 'USD' }}</del></h5>
      </div>
    </div>
  </div>

 
  <div class="card-footer bg-dark bg-opacity-5 border-0 py-2 d-lg-none">
    <button class="btn btn-primary w-100 rounded-2 fw-medium py-2" 
            (click)="addToCart(oneProductData)">
      <i class="fas fa-cart-plus me-2"></i>Add to Cart
    </button>
  </div>
</div>