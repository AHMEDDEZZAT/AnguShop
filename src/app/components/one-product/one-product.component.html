<div
  class="mt-3 product-card h-100 d-flex flex-column bg-light rounded overflow-hidden shadow-sm hover-shadow-lg transition-all">
  <!-- Product Image with Hover Actions -->
  <div class="product-img position-relative mb-3">
    <a class="d-block text-center mt-3" routerLink="/products/{{oneProductData.id}}">
      <img src="{{ oneProductData.image }}" alt="Product image" width="200px" height="250px" />
    </a>



    <!-- Quick Actions (Shown on Hover) -->
    <div
      class="product-action position-absolute start-0 end-0 d-flex justify-content-center bg-white bg-opacity-90 py-1 translate-y-100 transition-all">
      <button class="btn btn-outline-dark btn-square mx-1" (click)="addToCart(oneProductData)">
        <i class="fas fa-cart-plus"></i>
      </button>

      <button class="btn btn-outline-dark btn-square mx-1">
        <i class="fas fa-search"></i>
      </button>

      <button class="btn btn-outline-dark btn-square mx-1">
        <i class="fas fa-sync-alt"></i>
      </button>

      <!-- Wishlist Button (Top Right) -->
      <button class="btn btn-outline-dark btn-square mx-1" (click)="addToWishlist()">
        <i class="fas fa-heart text-danger"></i>
      </button>
    </div>
  </div>


  <!-- Product Details -->
  <div class="card-body text-center py-4 px-3 flex-grow-1">
    <!-- Product Title -->
    <a class="h6 text-decoration-none text-truncate d-block mb-1" routerLink="/products/{{oneProductData.id}}">
      {{ oneProductData.title }}
    </a>

    <!-- Rating -->
    <div class="product-rating mb-2 d-flex justify-content-center align-items-center">
      @for (star of getStars(oneProductData.rating?.rate); track $index) {
      @if (star === 'full') {
      <i class="fas fa-star text-warning small"></i>
      } @else if (star === 'half') {
      <i class="fas fa-star-half-alt text-warning small"></i>
      } @else {
      <i class="far fa-star text-warning small"></i>
      }
      }
      <small class="text-muted ms-1">({{oneProductData.rating?.count}})</small>
    </div>

    <!-- Price -->
    <div class="d-flex align-items-center justify-content-center">
      <h5 class="text-primary mb-0">{{ oneProductData.price | currency: 'USD' }}</h5>
      <h6 class="text-muted ms-2 mb-0"><del>{{ (oneProductData.price * 1.2) | currency: 'USD' }}</del></h6>
    </div>
  </div>

  <!-- Add to Cart Button (Visible on Mobile) -->
  <div class="card-footer bg-white border-top-0 py-2 d-lg-none">
    <button class="btn btn-primary w-100" (click)="addToCart(oneProductData)">
      <i class="fas fa-cart-plus me-2"></i>Add to Cart
    </button>
  </div>
</div>