@if (loading === true) {
<div class="text-center mt-5">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
}@else{
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6 d-flex">
      <input type="text" class="form-control product-search" placeholder="Search products by name..."
        [(ngModel)]="searchText" (ngModelChange)="currentPage = 1" />

  
       
     
    </div>
  </div>

  <!-- Add this empty state section -->
  @if (paginatedProducts().length === 0) {
  <div class="row mt-5">
    <div class="col-12 text-center">
      <div class="empty-state">
        <i class="fas fa-search fa-3x text-muted mb-4"></i>
        <h3 class="mb-3">No products found</h3>
        <p class="text-muted">Try adjusting your search or filter criteria</p>
      </div>
    </div>
  </div>
  }
  @else {
  <div class="row">
    @for (product of paginatedProducts(); track $index) {
    <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
      <app-one-product [oneProductData]="product" (productAdded)="showNotification()"></app-one-product>
    </div>
    }
  </div>

<nav class="mb-5">
  <ul class="pagination justify-content-center">
    <!-- Previous Button -->
    <li class="page-item" [class.disabled]="currentPage === 1">
      <button class="page-link" (click)="changePage(currentPage - 1)" aria-label="Previous">
        <span class="pagination-arrow" aria-hidden="true">&laquo;</span>
      </button>
    </li>

    <!-- Page Numbers -->
    <li class="page-item" *ngFor="let page of [].constructor(totalPages); let i = index"
      [class.active]="currentPage === i + 1">
      <button class="page-link" (click)="changePage(i + 1)">
        <span class="page-number">{{ i + 1 }}</span>
      </button>
    </li>

    <!-- Next Button -->
    <li class="page-item" [class.disabled]="currentPage === totalPages">
      <button class="page-link" (click)="changePage(currentPage + 1)" aria-label="Next">
        <span class="pagination-arrow" aria-hidden="true">&raquo;</span>
      </button>
    </li>
  </ul>
</nav>
  }
</div>
}

  @if (showAlert)
  {<div class="alert alert-success alert-dismissible fade show position-fixed bottom-0 end-0 m-3" role="alert"
    style="z-index: 1050;">
    Product added to cart!
    <button type="button" class="btn-close" (click)="showAlert = false" aria-label="Close"></button>
  </div>}

